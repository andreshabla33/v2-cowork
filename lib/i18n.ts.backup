// Sistema de internacionalización simple
export type Language = 'es' | 'en' | 'pt';

// Evento personalizado para cambios de idioma
const LANGUAGE_CHANGE_EVENT = 'languagechange';

export function subscribeToLanguageChange(callback: () => void): () => void {
  const handler = () => callback();
  window.addEventListener(LANGUAGE_CHANGE_EVENT, handler);
  return () => window.removeEventListener(LANGUAGE_CHANGE_EVENT, handler);
}

export function notifyLanguageChange(): void {
  window.dispatchEvent(new CustomEvent(LANGUAGE_CHANGE_EVENT));
}

const translations = {
  es: {
    // General
    'app.name': 'Cowork',
    'app.tagline': 'Espacio de trabajo virtual',
    
    // Navegación
    'nav.workspace': 'Espacio de trabajo',
    'nav.dashboard': 'Dashboard',
    'nav.settings': 'Configuración',
    'nav.profile': 'Perfil',
    
    // Configuración - General
    'settings.general.title': 'General',
    'settings.general.description': 'Configura las preferencias generales de la aplicación',
    'settings.general.skipWelcome': 'Saltar pantalla de bienvenida',
    'settings.general.skipWelcomeDesc': 'Usa tu configuración guardada de mic y cámara al entrar',
    'settings.general.autoUpdates': 'Actualizaciones automáticas',
    'settings.general.autoUpdatesDesc': 'Instalar actualizaciones no críticas en segundo plano',
    'settings.general.language': 'Idioma de la interfaz',
    'settings.general.languageDesc': 'Elige el idioma de la aplicación',
    'settings.general.colorMode': 'Modo de color',
    'settings.general.colorModeDesc': 'Elige entre claro, oscuro o sigue la preferencia del sistema',
    
    // Configuración - Audio
    'settings.audio.title': 'Audio',
    'settings.audio.description': 'Configura tus dispositivos y preferencias de audio',
    'settings.audio.microphone': 'Micrófono',
    'settings.audio.microphoneDesc': 'Selecciona el dispositivo de entrada de audio',
    'settings.audio.speaker': 'Altavoz',
    'settings.audio.speakerDesc': 'Selecciona el dispositivo de salida de audio',
    'settings.audio.noiseReduction': 'Reducción de ruido',
    'settings.audio.echoCancellation': 'Cancelación de eco',
    'settings.audio.echoCancellationDesc': 'Reduce el eco cuando tu micrófono capta el sonido de los altavoces',
    'settings.audio.autoGain': 'Control de ganancia automático',
    'settings.audio.autoGainDesc': 'Ajusta automáticamente el nivel de entrada del micrófono',
    'settings.audio.chatSounds': 'Sonidos de chat',
    'settings.audio.chatSoundsDesc': 'Reproducir sonido al recibir mensajes nuevos',
    'settings.audio.sfxVolume': 'Volumen de efectos',
    'settings.audio.sfxVolumeDesc': 'Ajusta el volumen de los sonidos de la aplicación',
    
    // Configuración - Video
    'settings.video.title': 'Video',
    'settings.video.description': 'Configura tu cámara y preferencias de video',
    'settings.video.camera': 'Cámara',
    'settings.video.cameraDesc': 'Selecciona el dispositivo de video',
    'settings.video.hdQuality': 'Calidad HD',
    'settings.video.hdQualityDesc': 'Transmitir video en alta definición cuando esté disponible',
    'settings.video.mirror': 'Espejo de video',
    'settings.video.mirrorDesc': 'Voltea tu video como un espejo. Otros siempre ven tu video sin invertir',
    'settings.video.hideSelf': 'Ocultar mi video',
    'settings.video.hideSelfDesc': 'Oculta tu propia vista durante conversaciones, pero sigues visible para otros',
    'settings.video.autoMute': 'Auto-silenciar al salir',
    'settings.video.autoMuteDesc': 'Apaga automáticamente mic y cámara cuando cambias de pestaña',
    
    // Configuración - Notificaciones
    'settings.notifications.title': 'Notificaciones',
    'settings.notifications.description': 'Configura cómo y cuándo recibir notificaciones',
    'settings.notifications.desktop': 'Notificaciones de escritorio',
    'settings.notifications.desktopDesc': 'Mostrar notificaciones del sistema operativo',
    'settings.notifications.messageSound': 'Sonido de mensaje nuevo',
    'settings.notifications.messageSoundDesc': 'Reproducir sonido al recibir un mensaje de chat',
    'settings.notifications.nearbySound': 'Sonido de usuario cercano',
    'settings.notifications.nearbySoundDesc': 'Reproducir sonido cuando alguien se acerca en el espacio',
    'settings.notifications.mentions': 'Notificar menciones',
    'settings.notifications.mentionsDesc': 'Recibir notificación cuando te mencionan (@)',
    
    // Botones y acciones
    'button.save': 'Guardar',
    'button.cancel': 'Cancelar',
    'button.close': 'Cerrar',
    'button.select': 'Seleccionar',
    
    // Estados
    'status.online': 'En línea',
    'status.offline': 'Desconectado',
    'status.busy': 'Ocupado',
    'status.away': 'Ausente',
    
    // Navegación principal
    'nav.space': 'Espacio',
    'nav.messages': 'Mensajes',
    'nav.tasks': 'Tareas',
    'nav.recordings': 'Grabaciones',
    'nav.members': 'Miembros',
    'nav.chat': 'Chat',
    'nav.calendar': 'Calendario',
    'nav.avatar': 'Avatar',
    
    // Temas
    'theme.dark': 'Oscuro',
    'theme.light': 'Claro',
    'theme.space': 'Espacial',
    'theme.arcade': 'Arcade',
    'theme.style': 'Estilo',
    
    // Botones principales
    'button.games': 'Juegos',
    'button.viben': 'Viben AI',
    'button.customize': 'Personalizar',
    'button.logout': 'Cerrar Sesión de Espacio',
    'button.askViben': 'Ask Viben',
    
    // Workspace
    'workspace.inUse': 'Workspace en uso',
    'workspace.spatialWorld': 'Spatial World',
    
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.welcome': 'Bienvenido',
    'dashboard.myWorkspaces': 'Mis Workspaces',
    'dashboard.createWorkspace': 'Crear Workspace',
    'dashboard.joinWorkspace': 'Unirse a Workspace',
    
    // Chat
    'chat.title': 'Chat',
    'chat.placeholder': 'Escribe un mensaje...',
    'chat.send': 'Enviar',
    'chat.noMessages': 'No hay mensajes',
    'chat.unread': 'No leídos',
    
    // Tareas
    'tasks.title': 'Tareas',
    'tasks.newTask': 'Nueva Tarea',
    'tasks.inProgress': 'En progreso',
    'tasks.completed': 'Completadas',
    'tasks.toDo': 'Por hacer',
    
    // Grabaciones
    'recordings.title': 'Grabaciones',
    'recordings.noRecordings': 'No hay grabaciones',
    'recordings.duration': 'Duración',
    'recordings.date': 'Fecha',
    
    // Juegos
    'games.title': 'Juegos',
    'games.chess': 'Ajedrez',
    'games.ticTacToe': 'Tres en Raya',
    'games.invite': 'Invitar a jugar',
    'games.accept': 'Aceptar',
    'games.decline': 'Declinar',
    
    // Configuración modal
    'settings.title': 'Configuración',
    
    // Acciones comunes
    'action.edit': 'Editar',
    'action.delete': 'Eliminar',
    'action.save': 'Guardar',
    'action.cancel': 'Cancelar',
    'action.create': 'Crear',
    'action.add': 'Agregar',
    'action.remove': 'Remover',
    'action.search': 'Buscar',
    'action.filter': 'Filtrar',
    'action.sort': 'Ordenar',
    'action.more': 'Más',
    'action.close': 'Cerrar',
    'action.open': 'Abrir',
    'action.back': 'Volver',
    'action.next': 'Siguiente',
    'action.previous': 'Anterior',
    'action.confirm': 'Confirmar',
    'action.accept': 'Aceptar',
    'action.reject': 'Rechazar',
    'action.invite': 'Invitar',
    'action.join': 'Unirse',
    'action.leave': 'Salir',
    'action.share': 'Compartir',
    'action.copy': 'Copiar',
    'action.paste': 'Pegar',
    'action.cut': 'Cortar',
    'action.download': 'Descargar',
    'action.upload': 'Subir',
    'action.refresh': 'Actualizar',
    'action.reload': 'Recargar',
    'action.retry': 'Reintentar',
    'action.view': 'Ver',
    'action.show': 'Mostrar',
    'action.hide': 'Ocultar',
    'action.expand': 'Expandir',
    'action.collapse': 'Colapsar',
    
    // Estados comunes
    'state.loading': 'Cargando',
    'state.error': 'Error',
    'state.success': 'Éxito',
    'state.warning': 'Advertencia',
    'state.info': 'Información',
    'state.empty': 'Vacío',
    'state.noResults': 'Sin resultados',
    'state.pending': 'Pendiente',
    'state.processing': 'Procesando',
    'state.done': 'Hecho',
    'state.active': 'Activo',
    'state.inactive': 'Inactivo',
    'state.enabled': 'Habilitado',
    'state.disabled': 'Deshabilitado',
    'state.visible': 'Visible',
    'state.hidden': 'Oculto',
    'state.public': 'Público',
    'state.private': 'Privado',
    'state.connected': 'Conectado',
    'state.disconnected': 'Desconectado',
    
    // Misc
    'misc.and': 'y',
    'misc.or': 'o',
    'misc.of': 'de',
    'misc.by': 'por',
    'misc.to': 'a',
    'misc.from': 'desde',
    'misc.at': 'en',
    'misc.on': 'sobre',
    'misc.in': 'en',
    'misc.with': 'con',
    'misc.without': 'sin',
    'misc.for': 'para',
    'misc.about': 'acerca de',
    'misc.hello': 'Hola',
    'misc.welcome': 'Bienvenido',
    'misc.goodbye': 'Adiós',
    'misc.thankYou': 'Gracias',
    'misc.please': 'Por favor',
    'misc.sorry': 'Lo siento',
    'misc.yes': 'Sí',
    'misc.no': 'No',
    'misc.ok': 'OK',
    'misc.cancel': 'Cancelar',
    'misc.apply': 'Aplicar',
    'misc.reset': 'Restablecer',
    'misc.default': 'Por defecto',
    'misc.custom': 'Personalizado',
    'misc.manual': 'Manual',
    'misc.automatic': 'Automático',
    'misc.all': 'Todo',
    'misc.none': 'Ninguno',
    'misc.some': 'Algunos',
    'misc.many': 'Muchos',
    'misc.more': 'Más',
    'misc.less': 'Menos',
    'misc.most': 'La mayoría',
    'misc.least': 'El menor',
    'misc.other': 'Otro',
    'misc.others': 'Otros',
    'misc.another': 'Otro',
    'misc.different': 'Diferente',
    'misc.same': 'Igual',
    'misc.similar': 'Similar',
    'misc.equal': 'Igual',
    'misc.new': 'Nuevo',
    'misc.old': 'Viejo',
    'misc.young': 'Joven',
    'misc.big': 'Grande',
    'misc.small': 'Pequeño',
    'misc.large': 'Grande',
    'misc.little': 'Pequeño',
    'misc.tall': 'Alto',
    'misc.short': 'Bajo',
    'misc.long': 'Largo',
    'misc.high': 'Alto',
    'misc.low': 'Bajo',
    'misc.wide': 'Ancho',
    'misc.narrow': 'Estrecho',
    'misc.deep': 'Profundo',
    'misc.shallow': 'Superficial',
    'misc.fast': 'Rápido',
    'misc.slow': 'Lento',
    'misc.quick': 'Rápido',
    'misc.early': 'Temprano',
    'misc.late': 'Tarde',
    'misc.first': 'Primero',
    'misc.last': 'Último',
    'misc.next': 'Siguiente',
    'misc.previous': 'Anterior',
    'misc.before': 'Antes',
    'misc.after': 'Después',
    'misc.above': 'Arriba',
    'misc.below': 'Abajo',
    'misc.over': 'Sobre',
    'misc.under': 'Bajo',
    'misc.up': 'Arriba',
    'misc.down': 'Abajo',
    'misc.left': 'Izquierda',
    'misc.right': 'Derecha',
    'misc.top': 'Arriba',
    'misc.bottom': 'Abajo',
    'misc.front': 'Frente',
    'misc.back': 'Atrás',
    'misc.center': 'Centro',
    'misc.middle': 'Medio',
    'misc.inside': 'Dentro',
    'misc.outside': 'Fuera',
    'misc.near': 'Cerca',
    'misc.far': 'Lejos',
    'misc.here': 'Aquí',
    'misc.there': 'Allí',
    'misc.everywhere': 'En todas partes',
    'misc.somewhere': 'En alguna parte',
    'misc.nowhere': 'En ninguna parte',
    'misc.now': 'Ahora',
    'misc.then': 'Entonces',
    'misc.today': 'Hoy',
    'misc.tomorrow': 'Mañana',
    'misc.yesterday': 'Ayer',
    'misc.soon': 'Pronto',
    'misc.later': 'Más tarde',
    'misc.ago': 'Hace',
    'misc.before': 'Antes',
    'misc.again': 'Otra vez',
    'misc.already': 'Ya',
    'misc.still': 'Todavía',
    'misc.yet': 'Todavía',
    'misc.ever': 'Alguna vez',
    'misc.never': 'Nunca',
    'misc.always': 'Siempre',
    'misc.often': 'A menudo',
    'misc.usually': 'Usualmente',
    'misc.sometimes': 'A veces',
    'misc.rarely': 'Raramente',
    'misc.hardly': 'Apenas',
    'misc.just': 'Solo',
    'misc.only': 'Solo',
    'misc.even': 'Incluso',
    'misc.also': 'También',
    'misc.too': 'También',
    'misc.either': 'O',
    'misc.neither': 'Ni',
    'misc.both': 'Ambos',
    'misc.each': 'Cada',
    'misc.every': 'Cada',
    'misc.any': 'Cualquier',
    'misc.some': 'Alguno',
    'misc.no': 'No',
    'misc.not': 'No',
    'misc.really': 'Realmente',
    'misc.actually': 'Actualmente',
    'misc.probably': 'Probablemente',
    'misc.maybe': 'Quizás',
    'misc.perhaps': 'Tal vez',
    'misc.certainly': 'Ciertamente',
    'misc.surely': 'Seguramente',
    'misc.simply': 'Simplemente',
    'misc.quite': 'Bastante',
    'misc.very': 'Muy',
    'misc.too': 'Demasiado',
    'misc.so': 'Tan',
    'misc.enough': 'Suficiente',
    'misc.almost': 'Casi',
    'misc.nearly': 'Casi',
    'misc.hardly': 'Apenas',
    'misc.completely': 'Completamente',
    'misc.totally': 'Totalmente',
    'misc.absolutely': 'Absolutamente',
    'misc.especially': 'Especialmente',
    'misc.particularly': 'Particularmente',
    'misc.specifically': 'Específicamente',
    'misc.mainly': 'Principalmente',
    'misc.mostly': 'Mayormente',
    'misc.generally': 'Generalmente',
    'misc.basically': 'Básicamente',
    'misc.essentially': 'Esencialmente',
    'misc.obviously': 'Obviamente',
    'misc.clearly': 'Claramente',
    'misc.apparently': 'Aparentemente',
    'misc.seemingly': 'Aparentemente',
    'misc.luckily': 'Afortunadamente',
    'misc.fortunately': 'Afortunadamente',
    'misc.unfortunately': 'Desafortunadamente',
    'misc.hopefully': 'Con suerte',
    'misc.thankfully': 'Agradecidamente',
    'misc.amazingly': 'Increíblemente',
    'misc.surprisingly': 'Sorprendentemente',
    'misc.astonishingly': 'Asombrosamente',
    'misc.shockingly': 'Chocantemente',
    'misc.interestingly': 'Interesantemente',
    'misc.significantly': 'Significativamente',
    'misc.substantially': 'Sustancialmente',
    'misc.considerably': 'Considerablemente',
    'misc.slightly': 'Ligeramente',
    'misc.barely': 'Apenas',
    'misc.scarcely': 'Escasamente',
    'misc.rarely': 'Raramente',
    'misc.seldom': 'Rara vez',
    'misc.never': 'Nunca',
    'misc.ever': 'Alguna vez',
    'misc.always': 'Siempre',
    'misc.forever': 'Por siempre',
    'misc.constantly': 'Constantemente',
    'misc.continuously': 'Continuamente',
    'misc.repeatedly': 'Repetidamente',
    'misc.frequently': 'Frecuentemente',
    'misc.regularly': 'Regularmente',
    'misc.occasionally': 'Ocasionalmente',
    'misc.periodically': 'Periódicamente',
    'misc.daily': 'Diariamente',
    'misc.weekly': 'Semanalmente',
    'misc.monthly': 'Mensualmente',
    'misc.yearly': 'Anualmente',
    'misc.annually': 'Anualmente',
    'misc.hourly': 'Cada hora',
    'misc.nightly': 'Cada noche',
    'misc.weekly': 'Cada semana',
    'misc.biweekly': 'Cada dos semanas',
    'misc.monthly': 'Cada mes',
    'misc.bimonthly': 'Cada dos meses',
    'misc.quarterly': 'Cada trimestre',
    'misc.yearly': 'Cada año',
    'misc.annually': 'Anualmente',
    'misc.currently': 'Actualmente',
    'misc.previously': 'Previamente',
    'misc.formerly': 'Anteriormente',
    'misc.originally': 'Originalmente',
    'misc.initially': 'Inicialmente',
    'misc.finally': 'Finalmente',
    'misc.eventually': 'Eventualmente',
    'misc.ultimately': 'Últimamente',
    'misc.lately': 'Últimamente',
    'misc.recently': 'Recientemente',
    'misc.soon': 'Pronto',
    'misc.shortly': 'En breve',
    'misc.immediately': 'Inmediatamente',
    'misc.instantly': 'Instantáneamente',
    'misc.directly': 'Directamente',
    'misc.indirectly': 'Indirectamente',
    'misc.mainly': 'Principalmente',
    'misc.largely': 'En gran parte',
    'misc.partly': 'Parcialmente',
    'misc.mostly': 'Mayormente',
    'misc.nearly': 'Casi',
    'misc.almost': 'Casi',
    'misc.practically': 'Prácticamente',
    'misc.virtually': 'Virtualmente',
    'misc.effectively': 'Efectivamente',
    'misc.basically': 'Básicamente',
    'misc.fundamentally': 'Fundamentalmente',
    'misc.ultimately': 'Últimamente',
    'misc.eventually': 'Eventualmente',
    'misc.potentially': 'Potencialmente',
    'misc.possibly': 'Posiblemente',
    'misc.impossibly': 'Imposiblemente',
    'misc.likely': 'Probablemente',
    'misc.unlikely': 'Improbablemente',
    'misc.probably': 'Probablemente',
    'misc.improbably': 'Improbablemente',
    'misc.definitely': 'Definitivamente',
    'misc.indefinitely': 'Indefinidamente',
    'misc.absolutely': 'Absolutamente',
    'misc.relatively': 'Relativamente',
    'misc.comparatively': 'Comparativamente',
    'misc.similarly': 'Similarmente',
    'misc.likewise': 'Asimismo',
    'misc.conversely': 'Inversamente',
    'misc.oppositely': 'Opuestamente',
    'misc.contrarily': 'Contrariamente',
    'misc.instead': 'En cambio',
    'misc.rather': 'Más bien',
    'misc.otherwise': 'De lo contrario',
    'misc.else': 'Otro',
    'misc.elsewhere': 'En otra parte',
    'misc.however': 'Sin embargo',
    'misc.nevertheless': 'Sin embargo',
    'misc.nonetheless': 'No obstante',
    'misc.yet': 'Sin embargo',
    'misc.still': 'Todavía',
    'misc.though': 'Aunque',
    'misc.although': 'Aunque',
    'misc.even': 'Incluso',
    'misc.evenThough': 'Aunque',
    'misc.whereas': 'Mientras que',
    'misc.while': 'Mientras',
    'misc.where': 'Donde',
    'misc.wherever': 'Donde sea',
    'misc.anywhere': 'En cualquier lugar',
    'misc.everywhere': 'En todas partes',
    'misc.somewhere': 'En alguna parte',
    'misc.nowhere': 'En ninguna parte',
    'misc.here': 'Aquí',
    'misc.there': 'Allí',
    'misc.thither': 'Allá',
    'misc.hither': 'Acá',
    'misc.hence': 'Por lo tanto',
    'misc.thence': 'De allí',
    'misc.when': 'Cuándo',
    'misc.whenever': 'Cuando sea',
    'misc.why': 'Por qué',
    'misc.how': 'Cómo',
    'misc.what': 'Qué',
    'misc.who': 'Quién',
    'misc.whom': 'A quién',
    'misc.whose': 'De quién',
    'misc.which': 'Cuál',
    'misc.that': 'Eso',
    'misc.this': 'Esto',
    'misc.these': 'Estos',
    'misc.those': 'Esos',
    'misc.such': 'Tal',
    'misc.so': 'Tan',
    'misc.as': 'Como',
    'misc.than': 'Que',
    'misc.like': 'Como',
    'misc.unlike': 'A diferencia de',
    'misc.besides': 'Además de',
    'misc.except': 'Excepto',
    'misc.apart': 'Aparte',
    'misc.regarding': 'Con respecto a',
    'misc.concerning': 'Con respecto a',
    'misc.respecting': 'Respetando',
    'misc.touching': 'Tocando',
    'misc.beyond': 'Más allá',
    'misc.past': 'Pasado',
    'misc.through': 'A través de',
    'misc.throughout': 'A lo largo de',
    'misc.across': 'A través de',
    'misc.among': 'Entre',
    'misc.amongst': 'Entre',
    'misc.between': 'Entre',
    'misc.amid': 'En medio de',
    'misc.amidst': 'En medio de',
    'misc.during': 'Durante',
    'misc.pending': 'Pendiente',
    'misc.through': 'A través de',
    'misc.via': 'Vía',
    'misc.per': 'Por',
    'misc.versus': 'Versus',
    'misc.vs': 'Vs',
    'misc.between': 'Entre',
  },
  en: {
    // General
    'app.name': 'Cowork',
    'app.tagline': 'Virtual workspace',
    
    // Navigation
    'nav.workspace': 'Workspace',
    'nav.dashboard': 'Dashboard',
    'nav.settings': 'Settings',
    'nav.profile': 'Profile',
    
    // Settings - General
    'settings.general.title': 'General',
    'settings.general.description': 'Configure general application preferences',
    'settings.general.skipWelcome': 'Skip welcome screen',
    'settings.general.skipWelcomeDesc': 'Use your saved mic and camera settings on entry',
    'settings.general.autoUpdates': 'Automatic updates',
    'settings.general.autoUpdatesDesc': 'Install non-critical updates in the background',
    'settings.general.language': 'Interface language',
    'settings.general.languageDesc': 'Choose the application language',
    'settings.general.colorMode': 'Color mode',
    'settings.general.colorModeDesc': 'Choose between light, dark, or follow system preference',
    
    // Settings - Audio
    'settings.audio.title': 'Audio',
    'settings.audio.description': 'Configure your audio devices and preferences',
    'settings.audio.microphone': 'Microphone',
    'settings.audio.microphoneDesc': 'Select the audio input device',
    'settings.audio.speaker': 'Speaker',
    'settings.audio.speakerDesc': 'Select the audio output device',
    'settings.audio.noiseReduction': 'Noise reduction',
    'settings.audio.echoCancellation': 'Echo cancellation',
    'settings.audio.echoCancellationDesc': 'Reduces echo when your microphone picks up speaker sound',
    'settings.audio.autoGain': 'Automatic gain control',
    'settings.audio.autoGainDesc': 'Automatically adjusts microphone input level',
    'settings.audio.chatSounds': 'Chat sounds',
    'settings.audio.chatSoundsDesc': 'Play sound when receiving new messages',
    'settings.audio.sfxVolume': 'Effects volume',
    'settings.audio.sfxVolumeDesc': 'Adjust application sound volume',
    
    // Settings - Video
    'settings.video.title': 'Video',
    'settings.video.description': 'Configure your camera and video preferences',
    'settings.video.camera': 'Camera',
    'settings.video.cameraDesc': 'Select the video device',
    'settings.video.hdQuality': 'HD Quality',
    'settings.video.hdQualityDesc': 'Stream video in high definition when available',
    'settings.video.mirror': 'Mirror video',
    'settings.video.mirrorDesc': 'Flip your video like a mirror. Others always see your video unflipped',
    'settings.video.hideSelf': 'Hide self view',
    'settings.video.hideSelfDesc': 'Hide your own view during conversations, but remain visible to others',
    'settings.video.autoMute': 'Auto-mute on leave',
    'settings.video.autoMuteDesc': 'Automatically turn off mic and camera when switching tabs',
    
    // Settings - Notifications
    'settings.notifications.title': 'Notifications',
    'settings.notifications.description': 'Configure how and when to receive notifications',
    'settings.notifications.desktop': 'Desktop notifications',
    'settings.notifications.desktopDesc': 'Show operating system notifications',
    'settings.notifications.messageSound': 'New message sound',
    'settings.notifications.messageSoundDesc': 'Play sound when receiving a chat message',
    'settings.notifications.nearbySound': 'Nearby user sound',
    'settings.notifications.nearbySoundDesc': 'Play sound when someone approaches in space',
    'settings.notifications.mentions': 'Notify mentions',
    'settings.notifications.mentionsDesc': 'Receive notification when mentioned (@)',
    
    // Buttons and actions
    'button.save': 'Save',
    'button.cancel': 'Cancel',
    'button.close': 'Close',
    'button.select': 'Select',
    
    // Status
    'status.online': 'Online',
    'status.offline': 'Offline',
    'status.busy': 'Busy',
    'status.away': 'Away',
  },
  pt: {
    // General
    'app.name': 'Cowork',
    'app.tagline': 'Espaço de trabalho virtual',
    
    // Navegação
    'nav.workspace': 'Espaço de trabalho',
    'nav.dashboard': 'Dashboard',
    'nav.settings': 'Configurações',
    'nav.profile': 'Perfil',
    
    // Configuração - Geral
    'settings.general.title': 'Geral',
    'settings.general.description': 'Configure as preferências gerais do aplicativo',
    'settings.general.skipWelcome': 'Pular tela de boas-vindas',
    'settings.general.skipWelcomeDesc': 'Use sua configuração salva de microfone e câmera ao entrar',
    'settings.general.autoUpdates': 'Atualizações automáticas',
    'settings.general.autoUpdatesDesc': 'Instalar atualizações não críticas em segundo plano',
    'settings.general.language': 'Idioma da interface',
    'settings.general.languageDesc': 'Escolha o idioma do aplicativo',
    'settings.general.colorMode': 'Modo de cor',
    'settings.general.colorModeDesc': 'Escolha entre claro, escuro ou seguir a preferência do sistema',
    
    // Configuração - Áudio
    'settings.audio.title': 'Áudio',
    'settings.audio.description': 'Configure seus dispositivos e preferências de áudio',
    'settings.audio.microphone': 'Microfone',
    'settings.audio.microphoneDesc': 'Selecione o dispositivo de entrada de áudio',
    'settings.audio.speaker': 'Alto-falante',
    'settings.audio.speakerDesc': 'Selecione o dispositivo de saída de áudio',
    'settings.audio.noiseReduction': 'Redução de ruído',
    'settings.audio.echoCancellation': 'Cancelamento de eco',
    'settings.audio.echoCancellationDesc': 'Reduz o eco quando seu microfone captura o som dos alto-falantes',
    'settings.audio.autoGain': 'Controle automático de ganho',
    'settings.audio.autoGainDesc': 'Ajusta automaticamente o nível de entrada do microfone',
    'settings.audio.chatSounds': 'Sons de chat',
    'settings.audio.chatSoundsDesc': 'Reproduzir som ao receber novas mensagens',
    'settings.audio.sfxVolume': 'Volume de efeitos',
    'settings.audio.sfxVolumeDesc': 'Ajuste o volume dos sons do aplicativo',
    
    // Configuração - Vídeo
    'settings.video.title': 'Vídeo',
    'settings.video.description': 'Configure sua câmera e preferências de vídeo',
    'settings.video.camera': 'Câmera',
    'settings.video.cameraDesc': 'Selecione o dispositivo de vídeo',
    'settings.video.hdQuality': 'Qualidade HD',
    'settings.video.hdQualityDesc': 'Transmitir vídeo em alta definição quando disponível',
    'settings.video.mirror': 'Espelhar vídeo',
    'settings.video.mirrorDesc': 'Inverter seu vídeo como um espelho. Outros sempre veem seu vídeo normal',
    'settings.video.hideSelf': 'Ocultar visualização própria',
    'settings.video.hideSelfDesc': 'Oculta sua própria visualização durante conversas, mas continua visível para outros',
    'settings.video.autoMute': 'Auto-silenciar ao sair',
    'settings.video.autoMuteDesc': 'Desliga automaticamente microfone e câmera ao trocar de aba',
    
    // Configuração - Notificações
    'settings.notifications.title': 'Notificações',
    'settings.notifications.description': 'Configure como e quando receber notificações',
    'settings.notifications.desktop': 'Notificações de desktop',
    'settings.notifications.desktopDesc': 'Mostrar notificações do sistema operacional',
    'settings.notifications.messageSound': 'Som de nova mensagem',
    'settings.notifications.messageSoundDesc': 'Reproduzir som ao receber uma mensagem de chat',
    'settings.notifications.nearbySound': 'Som de usuário próximo',
    'settings.notifications.nearbySoundDesc': 'Reproduzir som quando alguém se aproxima no espaço',
    'settings.notifications.mentions': 'Notificar menções',
    'settings.notifications.mentionsDesc': 'Receber notificação quando mencionado (@)',
    
    // Botões e ações
    'button.save': 'Salvar',
    'button.cancel': 'Cancelar',
    'button.close': 'Fechar',
    'button.select': 'Selecionar',
    
    // Status
    'status.online': 'Online',
    'status.offline': 'Offline',
    'status.busy': 'Ocupado',
    'status.away': 'Ausente',
  }
};

// Función para obtener el idioma guardado
export function getCurrentLanguage(): Language {
  if (typeof window === 'undefined') return 'es';
  
  const saved = localStorage.getItem('user_settings');
  if (saved) {
    try {
      const parsed = JSON.parse(saved);
      return parsed.general?.language || 'es';
    } catch {
      return 'es';
    }
  }
  return 'es';
}

// Función de traducción
export function t(key: string, lang?: Language): string {
  const language = lang || getCurrentLanguage();
  return translations[language]?.[key] || translations['es'][key] || key;
}

// Hook para react
export function useTranslation() {
  const [language, setLanguageState] = useState<Language>(getCurrentLanguage());
  
  useEffect(() => {
    const handleStorageChange = () => {
      setLanguageState(getCurrentLanguage());
    };
    
    window.addEventListener('storage', handleStorageChange);
    return () => window.removeEventListener('storage', handleStorageChange);
  }, []);
  
  const setLanguage = (lang: Language) => {
    const saved = localStorage.getItem('user_settings');
    if (saved) {
      const parsed = JSON.parse(saved);
      parsed.general = { ...parsed.general, language: lang };
      localStorage.setItem('user_settings', JSON.stringify(parsed));
      setLanguageState(lang);
      window.dispatchEvent(new Event('storage'));
    }
  };
  
  return {
    t: (key: string) => t(key, language),
    language,
    setLanguage
  };
}

import { useState, useEffect } from 'react';
